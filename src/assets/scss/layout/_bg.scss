#bg {
	@include vendor("transform", "scale(1.0)");
	-webkit-backface-visibility: hidden;
	position: fixed;
	top: 0;
	left: 0;
	width: 100%;
	height: 100vh;
	z-index: 1;
	opacity: 1;

	&:before,
	&:after {
		content: "";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}

	&:before {
		@include vendor(
			"transition",
			"background-color #{_duration(bg)} ease-in-out"
		);
		@include vendor("transition-delay", "#{_duration(intro)}");

		z-index: 2;
	}

	&:after {
		@include vendor("transform", "scale(1)");
		@include vendor(
			"transition",
			(
				"transform #{_duration(article)} ease",
				"filter #{_duration(article)} linear"
			)
		);
		background-image: url("../../images/blueprint.png");
		background-size: 70vh;

		opacity: 1;
		background-repeat: repeat-x;
		z-index: 2;

		@media only screen and (min-width: 1024px) and (max-height: 1366px) and (orientation: portrait) and (-webkit-min-device-pixel-ratio: 1.5) {
			background-position: top center;
			opacity: 0.8;
			background-repeat: repeat-x;
			background-size: 50%;
			height: 50vh;
		}

		@include breakpoint(medium) {
			background-position: top center;
			opacity: 0.8;
			background-repeat: repeat-x;
			background-size: 50%;
			height: 88vh;
		}

		@include breakpoint(xsmall) {
			background-position: top center;
			background-size: 80%;
			opacity: 0.5;
			height: 90vh;
		}
	}

	&:after {
		@include vendor("transform", "scale(1.06)");

		@include vendor(
			"transition",
			(
				"transform #{_duration(article)} linear",
				"filter #{_duration(article)} ease-out"
			)
		);
	}

	.body.is-article-visible & {
		&:after {
			@include vendor("transform", "scale(1.1)");
			@include vendor("filter", "blur(0.1rem)");
		}
	}

	.body.is-loading & {
		&:before {
			background-color: rgb(43, 63, 71);
		}
	}
}

#bgtoverlay {
	position: fixed;
	bottom: 0;
	right: 0;
	width: 100%;
	height: 100vh;
	opacity: 1;
	background: rgb(0, 0, 0);
	background: linear-gradient(
		0deg,
		rgba(0, 0, 0, 0.8) 0%,
		rgba(0, 0, 0, 0.8) 45%,
		rgba(0, 0, 0, 0.8) 70%,
		rgba(0, 0, 0, 0.9) 100%
	);
	z-index: 2;
}

#bgtop {
	-webkit-backface-visibility: hidden;
	position: fixed;
	bottom: 0;
	right: 0;
	width: 100%;
	height: 89vh;
	opacity: 1;
	z-index: 1;
	filter: brightness(60%);

	&:after {
		content: "";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}
	&:after {
		position: fixed;
		bottom: 0;
		right: 0;
		width: 100%;
		height: 85vh;
		opacity: 1;
		background-image: url("../../images/bg.png");
		background-position: bottom center;
		background-size: 900px 500px;
		background-repeat: repeat-x;
		z-index: 1;

		@media only screen and (min-width: 1024px) and (max-height: 1366px) and (orientation: portrait) and (-webkit-min-device-pixel-ratio: 1.5) {
			background-position: bottom center;
			opacity: 0.8;
			background-repeat: no-repeat;
			background-size: 115%;
			height: 88vh;
		}

		@include breakpoint(medium) {
			background-position: bottom center;
			opacity: 0.8;
			background-repeat: no-repeat;
			background-size: 115%;
			height: 88vh;
		}

		@include breakpoint(xsmall) {
			background-position: bottom center;
			opacity: 0.4;
			background-repeat: no-repeat;
		}
	}
	&:after {
		@include vendor("transform", "scale(1.3)");
		@include vendor(
			"transition",
			(
				"transform #{_duration(article)} linear",
				"filter #{_duration(article)} linear"
			)
		);
	}

	.body.is-article-visible & {
		opacity: 0.5;
		&:after {
			@include vendor("transform", "scale(1.25)");
			@include vendor("filter", "blur(0.001rem)");
		}
	}

	.body.is-loading & {
		&:before {
			background-color: rgba(30, 49, 49, 0.781);
		}
	}
}
